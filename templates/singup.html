<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.4.min.js') }}"></script>
	<title>Ingresar</title>
</head>
<body>

<script type="text/javascript">
	
$(document).ready(function(){

})

function valid_insert_user(){ 

	url = "{{ url_for('valid_insert_user')  }}";
	data = $("form[name='singup']").serialize();

	var return_data = "hola";
	success = function(respuesta) { 

			if(respuesta["valido"]){
				return_data = true;
				return true;
			}

			$('form[name=singup] input').closest("div").removeClass("has-error");
			error = respuesta["error"];
			$.each(error, function(i, item) {
				$('input[name='+i+']').closest("div").addClass("has-error");
			});
			return_data = false;
			return false;
		}
	dataType = "json";
	async = false;
	$.ajax({method: "POST",url: url, data: data, success: success, dataType: dataType, async:async});
	return return_data;
}


</script>

<form name="singup" action="{{ url_for('singup')  }}" onsubmit="return valid_insert_user()" method="POST">
	<div style="margin-bottom: 25px" class="input-group">
		<label for="nombre" class="input-group-addon">
			<span class="glyphicon glyphicon-user"></span>
		</label>
		<input name="nombre" type="text" class="form-control" value="" placeholder="Nombre">
	</div>
	<div style="margin-bottom: 25px" class="input-group">
		<label for="usuario" class="input-group-addon">
			<span class="glyphicon glyphicon-user"></span>
		</label>
		<input name="usuario" type="text" class="form-control" value="" placeholder="Usuario">
	</div>
	<div style="margin-bottom: 25px" class="input-group">
		<label for="password" class="input-group-addon">
			<span class="glyphicon glyphicon-lock"></span>
		</label>
		<input name="password" type="password" class="form-control" value="" placeholder="Contraseña">
	</div>
	<div style="margin-bottom: 25px" class="input-group">
		<label for="correo" class="input-group-addon">
			<span class="glyphicon glyphicon-envelope"></span>
		</label>
		<input name="correo" type="text" class="form-control" value="" placeholder="Correo Electrónico">
	</div>
	<div style="margin-bottom: 25px" class="input-group">
		<label for="nacimiento" class="input-group-addon">
			<span class="glyphicon glyphicon-calendar"></span>
		</label>
		<input name="nacimiento" type="text" class="form-control" value="" placeholder="Fecha de Nacimiento: dd/mm/aaaa">
	</div>
	<input class="btn btn-primary" type="submit" value="Aceptar">
	{% if error != None %}
		<span style="color:red">{{ error }}</span>
	{% endif %}
</form>
</body>
</html>
